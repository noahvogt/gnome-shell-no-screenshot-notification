From 88de26138a8b79d89884ff2eb6471c5a8e3b39ca Mon Sep 17 00:00:00 2001
From: Maxim Ermilov <zaspire@rambler.ru>
Date: Thu, 05 May 2011 10:06:05 +0000
Subject: shell-xfixes-cursor: missing XFree

memory returned by XFixesGetCursorImage should be freed after usage.
https://bugzilla.gnome.org/show_bug.cgi?id=642652
---
diff --git a/src/shell-xfixes-cursor.c b/src/shell-xfixes-cursor.c
index 14d2b59..334503d 100644
--- a/src/shell-xfixes-cursor.c
+++ b/src/shell-xfixes-cursor.c
@@ -254,6 +254,7 @@ xfixes_cursor_reset_image (ShellXFixesCursor *xfixes_cursor)
       xfixes_cursor->cursor_hot_y = cursor_image->yhot;
       g_signal_emit (xfixes_cursor, signals[CURSOR_CHANGED], 0);
     }
+  XFree (cursor_image);
 }
 
 static void
--
cgit v0.9
